<!-- countdown.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment - Countdown</title>
</head>
<body>
    <!-- <form method="post" action="{{ url_for('test') }}">
        <input type="hidden" name="attendance_number" value="{{ attendance_number }}">
        
    </form> -->

    <!-- <form method="post" action="{{ url_for('countdown') }}">
        <input type="hidden" name="attendance_number" value="{{ attendance_number }}">
    </form> -->

    <div id="countdown">3</div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var countdownElement = document.getElementById('countdown');
            var attendance_number = "{{ attendance_number }}";
            var count = 3;

            function countdown() {
        if (count > 0) {
            countdownElement.textContent = count;
            count--;
            setTimeout(countdown, 1000);
        } else {
            // カウントダウンが終了したらGETリクエストをトリガー
            window.location.href = '/test?attendance_number=' + attendance_number;
        }
    }

            countdown();
        });
    </script>
    <p>出席番号: {{ attendance_number }}</p>
</body>
</html>
